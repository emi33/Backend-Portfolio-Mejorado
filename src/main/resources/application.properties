spring.application.name=maker

# ==================================
# CONFIGURACI\u00D3N DE BASE DE DATOS (MySQL)
# Lee las variables gen\u00E9ricas (DB_...) de Render. Si no existen, usa los valores locales.
# ==================================
spring.datasource.url=jdbc:mysql://${DB_HOST:localhost}:${DB_PORT:3306}/${DB_NAME:portfolio_db}?useSSL=false&serverTimezone=America/Argentina/Buenos_Aires&allowPublicKeyRetrieval=true

# Credenciales (lee de Render/Clever Cloud, o usa 'root' y 'tu_clave_local' en tu m\u00E1quina)
spring.datasource.username=${DB_USER:root}
spring.datasource.password=${DB_PASS:tu_clave_local_mysql}

# Driver
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# ==================================
# CONFIGURACI\u00D3N DE JPA / HIBERNATE
# ==================================
# Dialecto de MySQL
spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect

# Lee la variable (ej. 'update' en Render), o usa 'update' localmente
spring.jpa.hibernate.ddl-auto=${SPRING_JPA_HIBERNATE_DDL_AUTO:update}

# Lee la variable, o usa la zona horaria de Argentina localmente
spring.jpa.properties.hibernate.jdbc.time_zone=${SPRING_TIMEZONE:America/Argentina/Buenos_Aires}

# Debug (lo dejamos en true, ya que no es un secreto)
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# ==================================
# CONFIGURACI\u00D3N DE JWT
# Lee las variables de Render, o usa valores de desarrollo locales.
# ==================================
jwt.secret.key=${JWT_SECRET_KEY:clave-secreta-solo-para-desarrollo-local-muy-larga}
jwt.expiration.ms=${JWT_EXPIRATION_MS:300000}
jwt.refresh-expiration.ms=${JWT_REFRESH_EXPIRATION_MS:900000}

# Configuraci\u00F3n del Pool de Conexiones (Hikari)
# Le decimos que el tama\u00F1o m\u00E1ximo del pool sea 4 (inferior al l\u00EDmite de 5)
spring.datasource.hikari.maximum-pool-size=4
# Le decimos que empiece con 1 conexi\u00F3n y crezca si es necesario
spring.datasource.hikari.minimum-idle=1